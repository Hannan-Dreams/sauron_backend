# üîë Quick Reference: Environment Variables

## Backend `.env` File

```env
# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3001
NODE_ENV=development

# ============================================
# JWT CONFIGURATION
# ============================================
# Generate using: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=YOUR_GENERATED_SECRET_HERE

# ============================================
# AWS CONFIGURATION
# ============================================
# Get from: AWS Console ‚Üí IAM ‚Üí Users ‚Üí Create Access Key
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_ACCESS_KEY

# ============================================
# DYNAMODB CONFIGURATION
# ============================================
USERS_TABLE_NAME=Users

# ============================================
# CORS CONFIGURATION
# ============================================
ALLOWED_ORIGINS=http://localhost:5174,http://localhost:5173
```

---

## Where to Get Each Key

| Variable | Where to Get | Required? |
|----------|-------------|-----------|
| `PORT` | Use `3001` | ‚úÖ Yes |
| `NODE_ENV` | Use `development` | ‚úÖ Yes |
| `JWT_SECRET` | Generate with Node.js command | ‚úÖ Yes |
| `AWS_REGION` | Choose AWS region (e.g., `us-east-1`) | ‚úÖ Yes |
| `AWS_ACCESS_KEY_ID` | AWS Console ‚Üí IAM ‚Üí Create Access Key | ‚úÖ Yes |
| `AWS_SECRET_ACCESS_KEY` | AWS Console ‚Üí IAM ‚Üí Create Access Key | ‚úÖ Yes |
| `USERS_TABLE_NAME` | Use `Users` | ‚úÖ Yes |
| `ALLOWED_ORIGINS` | Use default for local dev | ‚úÖ Yes |

---

## Quick Commands

### Generate JWT Secret
```bash
node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
```

### Create .env from example
```bash
cd backend
copy .env.example .env
```

### Setup DynamoDB Table
```bash
cd backend
node setup-dynamodb.js
```

### Start Backend Server
```bash
cd backend
npm run dev
```

---

## AWS Credentials Quick Steps

1. **Go to AWS Console**: https://console.aws.amazon.com/
2. **Navigate to IAM**: Search "IAM" in top search bar
3. **Create User**:
   - Click "Users" ‚Üí "Create user"
   - Name: `s1-backend-user`
   - Click "Next"
4. **Add Permissions**:
   - Select "Attach policies directly"
   - Search and select: `AmazonDynamoDBFullAccess`
   - Click "Next" ‚Üí "Create user"
5. **Create Access Key**:
   - Click on the user
   - Go to "Security credentials" tab
   - Click "Create access key"
   - Select "Application running outside AWS"
   - Click "Create access key"
6. **Save Credentials**:
   - Copy `Access key ID`
   - Copy `Secret access key`
   - **Download .csv file** (you can't see secret key again!)

---

## Verification

After setup, check:

‚úÖ Backend server starts: `npm run dev`
‚úÖ Health check works: http://localhost:3001/api/health
‚úÖ No AWS credential errors in console
‚úÖ DynamoDB table created in AWS Console

---

## Common Issues

**Error: "AWS credentials not found"**
‚Üí Check `.env` file has `AWS_ACCESS_KEY_ID` and `AWS_SECRET_ACCESS_KEY`

**Error: "Table not found"**
‚Üí Run `node setup-dynamodb.js`

**Error: "Invalid token"**
‚Üí Check `JWT_SECRET` is set in `.env`

---

## Security Reminders

‚ö†Ô∏è **NEVER commit `.env` file to git**
‚ö†Ô∏è **Use strong, random JWT_SECRET**
‚ö†Ô∏è **Don't share AWS credentials**
‚ö†Ô∏è **Use IAM users, not root account**

---

For detailed instructions, see: `ENV_SETUP_GUIDE.md`
